<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.108.0"><link rel=canonical type=text/html href=https://protobuf.dev/reference/java/><link rel=alternate type=application/rss+xml href=https://protobuf.dev/reference/java/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Java Reference | Protocol Buffers Documentation</title><meta name=description content="This section contains reference documentation for working with protocol buffer classes in Java"><meta property="og:title" content="Java Reference"><meta property="og:description" content="This section contains reference documentation for working with protocol buffer classes in Java"><meta property="og:type" content="website"><meta property="og:url" content="https://protobuf.dev/reference/java/"><meta property="og:site_name" content="Protocol Buffers Documentation"><meta itemprop=name content="Java Reference"><meta itemprop=description content="This section contains reference documentation for working with protocol buffer classes in Java"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java Reference"><meta name=twitter:description content="This section contains reference documentation for working with protocol buffer classes in Java"><link rel=preload href=/scss/main.min.def2cdda5cfcd95d9660c969a68946395435ad5fc75402be473d9995c7e926b3.css as=style><link href=/scss/main.min.def2cdda5cfcd95d9660c969a68946395435ad5fc75402be473d9995c7e926b3.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5L8P8GRN4Y"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5L8P8GRN4Y")}</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Protocol Buffers Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/reference/java/>Return to the regular view of this page</a>.</p></div><h1 class=title>Java Reference</h1><div class=lead>This section contains reference documentation for working with protocol buffer classes in Java</div><ul><li>1: <a href=#pg-a5bf97db26af6372d3a2d88a7c8784cd>Java Generated Code Guide</a></li><li>2: <a href=#pg-1be9e7e798e12c55873d38f2de7d9e57>Java API</a></li><li>3: <a href=#pg-466dfd484aa91ce51d28c85d71d3c5e1></a></li></ul><div class=content><ul><li><a href=/reference/java/java-generated>Java Generated Code Guide</a></li><li><a href=/reference/java/java-proto-names>Java Proto Names</a></li><li><a href=/reference/java/api-docs/overview-summary.html>Java API (Javadoc)</a></li></ul></div></div><div class=td-content><h1 id=pg-a5bf97db26af6372d3a2d88a7c8784cd>1 - Java Generated Code Guide</h1><div class=lead>This topic describes exactly what Java code the protocol buffer compiler generates for any given protocol definition.</div><p>This page describes exactly what Java code the protocol buffer compiler
generates for any given protocol definition. Any differences between proto2 and
proto3 generated code are highlighted—note that these differences are in
the generated code as described in this document, not the base message
classes/interfaces, which are the same in both versions. You should read the
<a href=/programming-guides/proto>proto2 language guide</a> and/or
<a href=/programming-guides/proto3>proto3 language guide</a> before reading this
document.</p><p>Note that no Java protocol buffer methods accept or return nulls unless
otherwise specified.</p><h2 id=invocation>Compiler Invocation</h2><p>The protocol buffer compiler produces Java output when invoked with the
<code>--java_out=</code> command-line flag. The parameter to the <code>--java_out=</code> option is
the directory where you want the compiler to write your Java output. For each
<code>.proto</code> file input, the compiler creates a wrapper <code>.java</code> file containing a
Java class which represents the <code>.proto</code> file itself.</p><p>If the <code>.proto</code> file contains a line like the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_multiple_files</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Then the compiler will also create separate <code>.java</code> files for each of the
classes/enums which it will generate for each top-level message, enumeration,
and service declared in the <code>.proto</code> file.</p><p>Otherwise (i.e. when the <code>java_multiple_files</code> option is disabled; which is the
default), the aforementioned wrapper class will also be used as an outer class,
and the generated classes/enums for each top-level message, enumeration, and
service declared in the <code>.proto</code> file will all be nested within the outer
wrapper class. Thus the compiler will only generate a single <code>.java</code> file for
the entire <code>.proto</code> file.</p><p>The wrapper class&rsquo;s name is chosen as follows: If the <code>.proto</code> file contains a
line like the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_outer_classname</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;Foo&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Then the wrapper class name will be <code>Foo</code>. Otherwise, the wrapper class name is
determined by converting the <code>.proto</code> file base name to camel case. For example,
<code>foo_bar.proto</code> will generate a class name of <code>FooBar</code>. If there&rsquo;s a service,
enum, or message (including nested types) in the file with the same name,
&ldquo;OuterClass&rdquo; will be appended to the wrapper class&rsquo;s name. Examples:</p><ul><li>If <code>foo_bar.proto</code> contains a message called <code>FooBar</code>, the wrapper class
will generate a class name of <code>FooBarOuterClass</code>.</li><li>If <code>foo_bar.proto</code> contains a service called <code>FooService</code>, and
<code>java_outer_classname</code> is also set to the string <code>FooService</code>, then the
wrapper class will generate a class name of <code>FooServiceOuterClass</code>.</li></ul><p>In addition to any nested classes, the wrapper class itself will have the
following API (assuming the wrapper class is named <code>Foo</code> and was generated from
<code>foo.proto</code>):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{}</span>  <span style=color:#8f5902;font-style:italic>// Not instantiable.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>/** Returns a FileDescriptor message describing the contents of {@code foo.proto}. */</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#000>com</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>google</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>protobuf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>Descriptors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>FileDescriptor</span> <span style=color:#000>getDescriptor</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>/** Adds all extensions defined in {@code foo.proto} to the given registry. */</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerAllExtensions</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>com</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>google</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>protobuf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ExtensionRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerAllExtensions</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>com</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>google</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>protobuf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ExtensionRegistryLite</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// (Nested classes omitted)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>The Java package name is chosen as described under <a href=#package>Packages</a>, below.</p><p>The output file is chosen by concatenating the parameter to <code>--java_out=</code>, the
package name (with <code>.</code>s replaced with <code>/</code>s), and the <code>.java</code> file name.</p><p>So, for example, let&rsquo;s say you invoke the compiler as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>protoc --proto_path<span style=color:#ce5c00;font-weight:700>=</span>src --java_out<span style=color:#ce5c00;font-weight:700>=</span>build/gen src/foo.proto
</span></span></code></pre></div><p>If <code>foo.proto</code>&rsquo;s Java package is <code>com.example</code> and it doesn&rsquo;t enable
<code>java_multiple_files</code> and its outer classname is <code>FooProtos</code>, then the protocol
buffer compiler will generate the file <code>build/gen/com/example/FooProtos.java</code>.
The protocol buffer compiler will automatically create the <code>build/gen/com</code> and
<code>build/gen/com/example</code> directories if needed. However, it will not create
<code>build/gen</code> or <code>build</code>; they must already exist. You can specify multiple
<code>.proto</code> files in a single invocation; all output files will be generated at
once.</p><p>When outputting Java code, the protocol buffer compiler&rsquo;s ability to output
directly to JAR archives is particularly convenient, as many Java tools are able
to read source code directly from JAR files. To output to a JAR file, simply
provide an output location ending in <code>.jar</code>. Note that only the Java source code
is placed in the archive; you must still compile it separately to produce Java
class files.</p><h2 id=package>Packages</h2><p>The generated class is placed in a Java package based on the <code>java_package</code>
option. If the option is omitted, the <code>package</code> declaration is used instead.</p><p>For example, if the <code>.proto</code> file contains:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Then the resulting Java class will be placed in Java package <code>foo.bar</code>. However,
if the <code>.proto</code> file also contains a <code>java_package</code> option, like so:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_package</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;com.example.foo.bar&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Then the class is placed in the <code>com.example.foo.bar</code> package instead. The
<code>java_package</code> option is provided because normal <code>.proto</code> <code>package</code> declarations
are not expected to start with a backwards domain name.</p><h2 id=message>Messages</h2><p>Given a simple message declaration:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler generates a class called <code>Foo</code>, which implements
the <code>Message</code> interface. The class is declared <code>final</code>; no further subclassing
is allowed. <code>Foo</code> extends <code>GeneratedMessage</code>, but this should be considered an
implementation detail. By default, <code>Foo</code> overrides many methods of
<code>GeneratedMessage</code> with specialized versions for maximum speed. However, if the
<code>.proto</code> file contains the line:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>optimize_for</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>CODE_SIZE</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>then <code>Foo</code> will override only the minimum set of methods necessary to function
and rely on <code>GeneratedMessage</code>&rsquo;s reflection-based implementations of the rest.
This significantly reduces the size of the generated code, but also reduces
performance. Alternatively, if the <code>.proto</code> file contains:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>optimize_for</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LITE_RUNTIME</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>then <code>Foo</code> will include fast implementations of all methods, but will implement
the <code>MessageLite</code> interface, which only contains a subset of the methods of
<code>Message</code>. In particular, it does not support descriptors or reflection.
However, in this mode, the generated code only needs to link against
<code>libprotobuf-lite.jar</code> instead of <code>libprotobuf.jar</code>. The &ldquo;lite&rdquo; library is
much smaller than the full library, and is more appropriate for
resource-constrained systems such as mobile phones.</p><p>The <code>Message</code> interface defines methods that let you check, manipulate, read, or
write the entire message. In addition to these methods, the <code>Foo</code> class defines
the following static methods:</p><ul><li><code>static Foo getDefaultInstance()</code>: Returns the <em>singleton</em> instance of
<code>Foo</code>. This instance&rsquo;s contents are identical to what you&rsquo;d get if you
called <code>Foo.newBuilder().build()</code> (so all singular fields are unset and all
repeated fields are empty). Note that the default instance of a message can
be used as a factory by calling its <code>newBuilderForType()</code> method.</li><li><code>static Descriptor getDescriptor()</code>: Returns the type&rsquo;s descriptor. This
contains information about the type, including what fields it has and what
their types are. This can be used with the reflection methods of the
<code>Message</code>, such as <code>getField()</code>.</li><li><code>static Foo parseFrom(...)</code>: Parses a message of type <code>Foo</code> from the given
source and returns it. There is one <code>parseFrom</code> method corresponding to each
variant of <code>mergeFrom()</code> in the <code>Message.Builder</code> interface. Note that
<code>parseFrom()</code> never throws <code>UninitializedMessageException</code>; it throws
<code>InvalidProtocolBufferException</code> if the parsed message is missing required
fields. This makes it subtly different from calling
<code>Foo.newBuilder().mergeFrom(...).build()</code>.</li><li><code>static Parser parser()</code>: Returns an instance of the <code>Parser</code>, which
implements various <code>parseFrom()</code> methods.</li><li><code>Foo.Builder newBuilder()</code>: Creates a new builder (described below).</li><li><code>Foo.Builder newBuilder(Foo prototype)</code>: Creates a new builder with all
fields initialized to the same values that they have in <code>prototype</code>. Since
embedded message and string objects are immutable, they are shared between
the original and the copy.</li></ul><h3 id=builders>Builders</h3><p>Message objects—such as instances of the <code>Foo</code> class described
above—are immutable, just like a Java <code>String</code>. To construct a message
object, you need to use a <em>builder</em>. Each message class has its own builder
class—so in our <code>Foo</code> example, the protocol buffer compiler generates a
nested class <code>Foo.Builder</code> which can be used to build a <code>Foo</code>. <code>Foo.Builder</code>
implements the <code>Message.Builder</code> interface. It extends the
<code>GeneratedMessage.Builder</code> class, but, again, this should be considered an
implementation detail. Like <code>Foo</code>, <code>Foo.Builder</code> may rely on generic method
implementations in <code>GeneratedMessage.Builder</code> or, when the <code>optimize_for</code> option
is used, generated custom code that is much faster.</p><p><code>Foo.Builder</code> does not define any static methods. Its interface is exactly as
defined by the <code>Message.Builder</code> interface, with the exception that return types
are more specific: methods of <code>Foo.Builder</code> that modify the builder return type
<code>Foo.Builder</code>, and <code>build()</code> returns type <code>Foo</code>.</p><p>Methods that modify the contents of a builder—including field
setters—always return a reference to the builder (i.e. they &ldquo;<code>return this;</code>&rdquo;). This allows multiple method calls to be chained together in one line.
For example: <code>builder.mergeFrom(obj).setFoo(1).setBar("abc").clearBaz();</code></p><p>Note that builders are not thread-safe, so Java synchronization should be used
whenever it is necessary for multiple different threads to be modifying the
contents of a single builder.</p><h3 id=sub-builders>Sub-Builders</h3><p>For messages containing sub-messages, the compiler also generates sub-builders.
This allows you to repeatedly modify deep-nested sub-messages without rebuilding
them. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>val</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#8f5902;font-style:italic>// some other fields.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#000>Foo</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#8f5902;font-style:italic>// some other fields.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Baz</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#000>Bar</span> <span style=color:#000>bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#8f5902;font-style:italic>// some other fields.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>If you have a <code>Baz</code> message already, and want to change the deeply nested <code>val</code>
in <code>Foo</code>. Instead of:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>baz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toBuilder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setBar</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBar</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>toBuilder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setFoo</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>        <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBar</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>getFoo</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>toBuilder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setVal</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>()).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>You can write:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>Builder</span> <span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toBuilder</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBarBuilder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>getFooBuilder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setVal</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>baz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h3 id=nested-types>Nested Types</h3><p>A message can be declared inside another message. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>In this case, the compiler simply generates <code>Bar</code> as an inner class nested
inside <code>Foo</code>.</p><h2 id=fields>Fields</h2><p>In addition to the methods described in the previous section, the protocol
buffer compiler generates a set of accessor methods for each field defined
within the message in the <code>.proto</code> file. The methods that read the field value
are defined both in the message class and its corresponding builder; the methods
that modify the value are defined in the builder only.</p><p>Note that method names always use camel-case naming, even if the field name in
the <code>.proto</code> file uses lower-case with underscores
(<a href=/programming-guides/style>as it should</a>). The case-conversion works
as follows:</p><ol><li>For each underscore in the name, the underscore is removed, and the
following letter is capitalized.</li><li>If the name will have a prefix attached (e.g. &ldquo;get&rdquo;), the first letter is
capitalized. Otherwise, it is lower-cased.</li></ol><p>Thus, the field <code>foo_bar_baz</code> becomes <code>fooBarBaz</code>. If prefixed with <code>get</code>, it
would be <code>getFooBarBaz</code>.</p><p>As well as accessor methods, the compiler generates an integer constant for each
field containing its field number. The constant name is the field name converted
to upper-case followed by <code>_FIELD_NUMBER</code>. For example, given the field
<code>optional int32 foo_bar = 5;</code>, the compiler will generate the constant <code>public static final int FOO_BAR_FIELD_NUMBER = 5;</code>.</p><h3 id=singular-fields-proto2>Singular Fields (proto2)</h3><p>For any of these field definitions:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>required</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following accessor methods in both the message
class and its builder:</p><ul><li><code>boolean hasFoo()</code>: Returns <code>true</code> if the field is set.</li><li><code>int getFoo()</code>: Returns the current value of the field. If the field is not
set, returns the default value.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder setFoo(int value)</code>: Sets the value of the field. After calling
this, <code>hasFoo()</code> will return <code>true</code> and <code>getFoo()</code> will return <code>value</code>.</li><li><code>Builder clearFoo()</code>: Clears the value of the field. After calling this,
<code>hasFoo()</code> will return <code>false</code> and <code>getFoo()</code> will return the default value.</li></ul><p>For other simple field types, the corresponding Java type is chosen according to
the <a href=/programming-guides/proto#scalar>scalar value types table</a>.
For message and enum types, the value type is replaced with the message or enum
class.</p><h4 id=embedded-message-fields>Embedded Message Fields</h4><p>For message types, <code>setFoo()</code> also accepts an instance of the message&rsquo;s builder
type as the parameter. This is just a shortcut which is equivalent to calling
<code>.build()</code> on the builder and passing the result to the method.</p><p>If the field is not set, <code>getFoo()</code> will return a Foo instance with none of its
fields set (possibly the instance returned by <code>Foo.getDefaultInstance()</code>).</p><p>In addition, the compiler generates two accessor methods that allow you to
access the relevant sub-builders for message types. The following method is
generated in both the message class and its builder:</p><ul><li><code>FooOrBuilder getFooOrBuilder()</code>: Returns the builder for the field, if it
already exists, or the message if not. Calling this method on builders will
not create a sub-builder for the field.</li></ul><p>The compiler generates the following method only in the message&rsquo;s builder.</p><ul><li><code>Builder getFooBuilder()</code>: Returns the builder for the field.</li></ul><h3 id=singular-fields-proto3>Singular Fields (proto3)</h3><p>For this field definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following accessor method in both the message
class and its builder:</p><ul><li><code>int getFoo()</code>: Returns the current value of the field. If the field is not
set, returns the default value for the field&rsquo;s type.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder setFoo(int value)</code>: Sets the value of the field. After calling
this, <code>getFoo()</code> will return <code>value</code>.</li><li><code>Builder clearFoo()</code>: Clears the value of the field. After calling this,
<code>getFoo()</code> will return the default value for the field&rsquo;s type.</li></ul><p>For other simple field types, the corresponding Java type is chosen according to
the <a href=/programming-guides/proto#scalar>scalar value types table</a>.
For message and enum types, the value type is replaced with the message or enum
class.</p><h4 id=embedded-message-fields-1>Embedded Message Fields</h4><p>For message field types, an additional accessor method is generated in both the
message class and its builder:</p><ul><li><code>boolean hasFoo()</code>: Returns <code>true</code> if the field has been set.</li></ul><p><code>setFoo()</code> also accepts an instance of the message&rsquo;s builder type as the
parameter. This is just a shortcut which is equivalent to calling <code>.build()</code> on
the builder and passing the result to the method.</p><p>If the field is not set, <code>getFoo()</code> will return a Foo instance with none of its
fields set (possibly the instance returned by <code>Foo.getDefaultInstance()</code>).</p><p>In addition, the compiler generates two accessor methods that allow you to
access the relevant sub-builders for message types. The following method is
generated in both the message class and its builder:</p><ul><li><code>FooOrBuilder getFooOrBuilder()</code>: Returns the builder for the field, if it
already exists, or the message if not. Calling this method on builders will
not create a sub-builder for the field.</li></ul><p>The compiler generates the following method only in the message&rsquo;s builder.</p><ul><li><code>Builder getFooBuilder()</code>: Returns the builder for the field.</li></ul><h4 id=enum-fields>Enum Fields</h4><p>For enum field types, an additional accessor method is generated in both the
message class and its builder:</p><ul><li><code>int getFooValue()</code>: Returns the integer value of the enum.</li></ul><p>The compiler will generate the following additional method only in the message&rsquo;s
builder:</p><ul><li><code>Builder setFooValue(int value)</code>: Sets the integer value of the enum.</li></ul><p>In addition, <code>getFoo()</code> will return <code>UNRECOGNIZED</code> if the enum value is
unknown—this is a special additional value added by the proto3 compiler to
the generated <a href=#enum>enum type</a>.</p><h3 id=repeated-fields>Repeated Fields</h3><p>For this field definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following accessor methods in both the message
class and its builder:</p><ul><li><code>int getFooCount()</code>: Returns the number of elements currently in the field.</li><li><code>String getFoo(int index)</code>: Returns the element at the given zero-based
index.</li><li><code>ProtocolStringList getFooList()</code>: Returns the entire field as a
<code>ProtocolStringList</code>. If the field is not set, returns an empty list.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder setFoo(int index, String value)</code>: Sets the value of the element at
the given zero-based index.</li><li><code>Builder addFoo(String value)</code>: Appends a new element to the field with the
given value.</li><li><code>Builder addAllFoo(Iterable&lt;? extends String> value)</code>: Appends all elements
in the given <code>Iterable</code> to the field.</li><li><code>Builder clearFoo()</code>: Removes all elements from the field. After calling
this, <code>getFooCount()</code> will return zero.</li></ul><p>For other simple field types, the corresponding Java type is chosen according to
the <a href=/programming-guides/proto#scalar>scalar value types table</a>.
For message and enum types, the type is the message or enum class.</p><h4 id=repeated-embedded-message-fields>Repeated Embedded Message Fields</h4><p>For message types, <code>setFoo()</code> and <code>addFoo()</code> also accept an instance of the
message&rsquo;s builder type as the parameter. This is just a shortcut which is
equivalent to calling <code>.build()</code> on the builder and passing the result to the
method. There is also an additional generated method:</p><ul><li><code>Builder addFoo(int index, Field value)</code>: Inserts a new element at the given
zero-based index. Shifts the element currently at that position (if any) and
any subsequent elements to the right (adds one to their indices).</li></ul><p>In addition, the compiler generates the following additional accessor methods in
both the message class and its builder for message types, allowing you to access
the relevant sub-builders:</p><ul><li><code>FooOrBuilder getFooOrBuilder(int index)</code>: Returns the builder for the
specified element, if it already exists, or throws
<code>IndexOutOfBoundsException</code> if not. If this is called from a message class,
it will always return a message (or throw an exception) rather than a
builder. Calling this method on builders will not create a sub-builder for
the field.</li><li><code>List&lt;FooOrBuilder> getFooOrBuilderList()</code>: Returns the entire field as an
unmodifiable list of builders (if available) or messages if not. If this is
called from a message class, it will always return an immutable list of
messages rather than an unmodifiable list of builders.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder getFooBuilder(int index)</code>: Returns the builder for the element at
the specified index, or throws <code>IndexOutOfBoundsException</code> if the index is
out of bounds.</li><li><code>Builder addFooBuilder(int index)</code>: Inserts and returns a builder for a
default message instance at the specified index. The existing entries are
shifted to higher indices to make room for the inserted builder.</li><li><code>Builder addFooBuilder()</code>: Appends and returns a builder for a default
message instance.</li><li><code>Builder removeFoo(int index)</code>: Removes the element at the given zero-based
index.</li><li><code>List&lt;Builder> getFooBuilderList()</code>: Returns the entire field as an
unmodifiable list of builders.</li></ul><h4 id=repeated-enum-fields-proto3-only>Repeated Enum Fields (proto3 only)</h4><p>The compiler will generate the following additional methods in both the message
class and its builder:</p><ul><li><code>int getFooValue(int index)</code>: Returns the integer value of the enum at the
specified index.</li><li><code>List&lt;java.lang.Integer> getFooValueList()</code>: Returns the entire field as a
list of Integers.</li></ul><p>The compiler will generate the following additional method only in the message&rsquo;s
builder:</p><ul><li><code>Builder setFooValue(int index, int value)</code>: Sets the integer value of the
enum at the specified index.</li></ul><h4 id=name-conflicts>Name Conflicts</h4><p>If another non-repeated field has a name that conflicts with one of the repeated
field&rsquo;s generated methods, then both field names will have their protobuf field
number appended to the end.</p><p>For these field definitions:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo_count</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will first rename them to the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo_count_1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>foo_2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The accessor methods will subsequently be generated as described above.</p><h3 id=oneof-fields>Oneof Fields</h3><p>For this oneof field definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>oneof</span> <span style=color:#000>example_name</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following accessor methods in both the message
class and its builder:</p><ul><li><code>boolean hasFoo()</code> (proto2 only): Returns <code>true</code> if the oneof case is <code>FOO</code>.</li><li><code>int getFoo()</code>: Returns the current value of <code>example_name</code> if the oneof
case is <code>FOO</code>. Otherwise, returns the default value of this field.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder setFoo(int value)</code>: Sets <code>example_name</code> to this value and sets the
oneof case to <code>FOO</code>. After calling this, <code>hasFoo()</code> will return <code>true</code>,
<code>getFoo()</code> will return <code>value</code> and <code>getExampleNameCase()</code> will return <code>FOO</code>.</li><li><code>Builder clearFoo()</code>:<ul><li>Nothing will be changed if the oneof case is not <code>FOO</code>.</li><li>If the oneof case is <code>FOO</code>, sets <code>example_name</code> to null and the oneof
case to <code>EXAMPLENAME_NOT_SET</code>. After calling this, <code>hasFoo()</code> will
return <code>false</code>, <code>getFoo()</code> will return the default value and
<code>getExampleNameCase()</code> will return <code>EXAMPLENAME_NOT_SET</code>.</li></ul></li></ul><p>For other simple field types, the corresponding Java type is chosen according to
the <a href=/programming-guides/proto#scalar>scalar value types table</a>.
For message and enum types, the value type is replaced with the message or enum
class.</p><h3 id=map-fields>Map Fields</h3><p>For this map field definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#000>map</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int32</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int32</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>weight</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following accessor methods in both the message
class and its builder:</p><ul><li><code>Map&lt;Integer, Integer> getWeightMap();</code>: Returns an unmodifiable <code>Map</code>.</li><li><code>int getWeightOrDefault(int key, int default);</code>: Returns the value for key
or the default value if not present.</li><li><code>int getWeightOrThrow(int key);</code>: Returns the value for key or throws
IllegalArgumentException if not present.</li><li><code>boolean containsWeight(int key);</code>: Indicates if the key is present in this
field.</li><li><code>int getWeightCount();</code>: Returns the number of elements in the map.</li></ul><p>The compiler will generate the following methods only in the message&rsquo;s builder:</p><ul><li><code>Builder putWeight(int key, int value);</code>: Add the weight to this field.</li><li><code>Builder putAllWeight(Map&lt;Integer, Integer> value);</code>: Adds all entries in
the given map to this field.</li><li><code>Builder removeWeight(int key);</code>: Removes the weight from this field.</li><li><code>Builder clearWeight();</code>: Removes all weights from this field.</li><li><code>@Deprecated Map&lt;Integer, Integer> getMutableWeight();</code>: Returns a mutable
<code>Map</code>. Note that multiple calls to this method may return different map
instances. The returned map reference may be invalidated by any subsequent
method calls to the Builder.</li></ul><h2 id=any>Any</h2><p>Given an <a href=/programming-guides/proto3#any><code>Any</code></a> field like this:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#34;google/protobuf/any.proto&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>ErrorStatus</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>string</span> <span style=color:#204a87;font-weight:700>message</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>google.protobuf.Any</span> <span style=color:#000>details</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>In our generated code, the getter for the <code>details</code> field returns an instance of
<code>com.google.protobuf.Any</code>. This provides the following special methods to pack
and unpack the <code>Any</code>&rsquo;s values:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Any</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Packs the given message into an Any using the default type URL
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// prefix “type.googleapis.com”.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#000>Any</span> <span style=color:#000>pack</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Message</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Packs the given message into an Any using the given type URL
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// prefix.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#000>Any</span> <span style=color:#000>pack</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Message</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                         <span style=color:#000>String</span> <span style=color:#000>typeUrlPrefix</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Checks whether this Any message’s payload is the given type.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>T</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>Message</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>is</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>class</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Unpacks Any into the given message type. Throws exception if
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// the type doesn’t match or parsing the payload has failed.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>T</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>Message</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>T</span> <span style=color:#000>unpack</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>class</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>InvalidProtocolBufferException</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=oneof>Oneofs</h2><p>Given a oneof definition like this:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>oneof</span> <span style=color:#000>example_name</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo_int</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>foo_string</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>All the fields in the <code>example_name</code> oneof will use a single private field for
their value. In addition, the protocol buffer compiler will generate a Java enum
type for the oneof case, as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>ExampleNameCase</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>com</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>google</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>protobuf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>Internal</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>EnumLite</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>FOO_INT</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>      <span style=color:#000>FOO_STRING</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>      <span style=color:#000>EXAMPLENAME_NOT_SET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>};</span>
</span></span></code></pre></div><p>The values of this enum type have the following special methods:</p><ul><li><code>int getNumber()</code>: Returns the object&rsquo;s numeric value as defined in the
.proto file.</li><li><code>static ExampleNameCase forNumber(int value)</code>: Returns the enum object
corresponding to the given numeric value (or <code>null</code> for other numeric
values).</li></ul><p>The compiler will also generate the following accessor method in both the
message class and its builder:</p><ul><li><code>ExampleNameCase getExampleNameCase()</code>: Returns the enum indicating which
field is set. Returns <code>EXAMPLENAME_NOT_SET</code> if none of them is set.</li></ul><p>The compiler will generate the following method only in the message&rsquo;s builder:</p><ul><li><code>Builder clearExampleName()</code>: Resets the oneof&rsquo;s private field to null, and
sets the oneof case to <code>EXAMPLENAME_NOT_SET</code>.</li></ul><h2 id=enum>Enumerations</h2><p>Given an enum definition like:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_A</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_B</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_C</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1234</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler will generate a Java enum type called <code>Foo</code> with
the same set of values. If you are using proto3, it also adds the special value
<code>UNRECOGNIZED</code> to the enum type. The values of the generated enum type have the
following special methods:</p><ul><li><code>int getNumber()</code>: Returns the object&rsquo;s numeric value as defined in the
<code>.proto</code> file.</li><li><code>EnumValueDescriptor getValueDescriptor()</code>: Returns the value&rsquo;s descriptor,
which contains information about the value&rsquo;s name, number, and type.</li><li><code>EnumDescriptor getDescriptorForType()</code>: Returns the enum type&rsquo;s descriptor,
which contains e.g. information about each defined value.</li></ul><p>Additionally, the <code>Foo</code> enum type contains the following static methods:</p><ul><li><code>static Foo forNumber(int value)</code>: Returns the enum object corresponding to
the given numeric value. Returns null when there is no corresponding enum
object.</li><li><code>static Foo valueOf(int value)</code>: Returns the enum object corresponding to
the given numeric value. This method is deprecated in favor of
<code>forNumber(int value)</code> and will be removed in an upcoming release.</li><li><code>static Foo valueOf(EnumValueDescriptor descriptor)</code>: Returns the enum
object corresponding to the given value descriptor. May be faster than
<code>valueOf(int)</code>. In proto3 returns <code>UNRECOGNIZED</code> if passed an unknown value
descriptor.</li><li><code>EnumDescriptor getDescriptor()</code>: Returns the enum type&rsquo;s descriptor, which
contains e.g. information about each defined value. (This differs from
<code>getDescriptorForType()</code> only in that it is a static method.)</li></ul><p>An integer constant is also generated with the suffix _VALUE for each enum
value.</p><p>Note that the <code>.proto</code> language allows multiple enum symbols to have the same
numeric value. Symbols with the same numeric value are synonyms. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>BAR</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>BAZ</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>In this case, <code>BAZ</code> is a synonym for <code>BAR</code>. In Java, <code>BAZ</code> will be defined as a
static final field like so:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Foo</span> <span style=color:#000>BAZ</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>BAR</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><p>Thus, <code>BAR</code> and <code>BAZ</code> compare equal, and <code>BAZ</code> should never appear in switch
statements. The compiler always chooses the first symbol defined with a given
numeric value to be the &ldquo;canonical&rdquo; version of that symbol; all subsequent
symbols with the same number are just aliases.</p><p>An enum can be defined nested within a message type. The compiler generates the
Java enum definition nested within that message type&rsquo;s class.</p><p><strong>Caution: when generating Java code, the maximum number of values in a protobuf
enum may be surprisingly low</strong>—in the worst case, the maximum is slightly
over 1,700 values. This limit is due to per-method size limits for Java
bytecode, and it varies across Java implementations, different versions of the
protobuf suite, and any options set on the enum in the <code>.proto</code> file.</p><h2 id=extension>Extensions (proto2 only)</h2><p>Given a message with an extension range:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>extensions</span> <span style=color:#0000cf;font-weight:700>100</span> <span style=color:#204a87;font-weight:700>to</span> <span style=color:#0000cf;font-weight:700>199</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler will make <code>Foo</code> extend
<code>GeneratedMessage.ExtendableMessage</code> instead of the usual <code>GeneratedMessage</code>.
Similarly, <code>Foo</code>&rsquo;s builder will extend <code>GeneratedMessage.ExtendableBuilder</code>. You
should never refer to these base types by name (<code>GeneratedMessage</code> is considered
an implementation detail). However, these superclasses define a number of
additional methods that you can use to manipulate extensions.</p><p>In particular <code>Foo</code> and <code>Foo.Builder</code> will inherit the methods <code>hasExtension()</code>,
<code>getExtension()</code>, and <code>getExtensionCount()</code>. Additionally, <code>Foo.Builder</code> will
inherit methods <code>setExtension()</code> and <code>clearExtension()</code>. Each of these methods
takes, as its first parameter, an extension identifier (described below), which
identifies an extension field. The remaining parameters and the return value are
exactly the same as those for the corresponding accessor methods that would be
generated for a normal (non-extension) field of the same type as the extension
identifier.</p><p>Given an extension definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>extend</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>123</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler generates an &ldquo;extension identifier&rdquo; called <code>bar</code>,
which you can use with <code>Foo</code>&rsquo;s extension accessors to access this extension,
like so:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bar</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bar</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bar</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><p>(The exact implementation of extension identifiers is complicated and involves
magical use of generics—however, you don&rsquo;t need to worry about how
extension identifiers work to use them.)</p><p>Note that <code>bar</code> would be declared as a static field of the wrapper class for the
<code>.proto</code> file, as described above; we have omitted the wrapper class name in the
example.</p><p>Extensions can be declared inside the scope of another type to prefix their
generated symbol names. For example, a common pattern is to extend a message by
a field <em>inside</em> the declaration of the field&rsquo;s type:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Baz</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>extend</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#000>Baz</span> <span style=color:#000>foo_ext</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>124</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>In this case, an extension with identifier <code>foo_ext</code> and type <code>Baz</code> is declared
inside the declaration of <code>Baz</code>, and referring to <code>foo_ext</code> requires the
addition of a <code>Baz.</code> prefix:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Baz</span> <span style=color:#000>baz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>createMyBaz</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>baz</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><p>When parsing a message that might have extensions, you must provide an
<a href=/reference/java/api-docs/com/google/protobuf/ExtensionRegistry.html><code>ExtensionRegistry</code></a>
in which you have registered any extensions that you want to be able to parse.
Otherwise, those extensions will be treated like unknown fields and the methods
observing extensions will behave as if they don&rsquo;t exist.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ExtensionRegistry</span> <span style=color:#000>registry</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ExtensionRegistry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newInstance</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>parseFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>input</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ExtensionRegistry</span> <span style=color:#000>registry</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ExtensionRegistry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newInstance</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>parseFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>input</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>assert</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasExtension</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Baz</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>fooExt</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><h2 id=service>Services</h2><p>If the <code>.proto</code> file contains the following line:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_generic_services</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Then the protocol buffer compiler will generate code based on the service
definitions found in the file as described in this section. However, the
generated code may be undesirable as it is not tied to any particular RPC
system, and thus requires more levels of indirection than code tailored to one
system. If you do NOT want this code to be generated, add this line to the file:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_generic_services</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>If neither of the above lines are given, the option defaults to <code>false</code>, as
generic services are deprecated. (Note that prior to 2.4.0, the option defaults
to <code>true</code>)</p><p>RPC systems based on <code>.proto</code>-language service definitions should provide
<a href=/reference/cpp/api-docs/google.protobuf.compiler.plugin.pb>plugins</a>
to generate code approriate for the system. These plugins are likely to require
that abstract services are disabled, so that they can generate their own classes
of the same names. Plugins are new in version 2.3.0 (January 2010).</p><p>The remainder of this section describes what the protocol buffer compiler
generates when abstract services are enabled.</p><h3 id=interface>Interface</h3><p>Given a service definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>service</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>rpc</span> <span style=color:#000>Bar</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>FooRequest</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>returns</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>FooResponse</span><span style=color:#000;font-weight:700>);</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler will generate an abstract class <code>Foo</code> to represent
this service. <code>Foo</code> will have an abstract method for each method defined in the
service definition. In this case, the method <code>Bar</code> is defined as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>bar</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>RpcController</span> <span style=color:#000>controller</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>FooRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                  <span style=color:#000>RpcCallback</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>FooResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>done</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>The parameters are equivalent to the parameters of <code>Service.CallMethod()</code>,
except that the <code>method</code> argument is implied and <code>request</code> and <code>done</code> specify
their exact type.</p><p><code>Foo</code> subclasses the <code>Service</code> interface. The protocol buffer compiler
automatically generates implementations of the methods of <code>Service</code> as follows:</p><ul><li><code>getDescriptorForType</code>: Returns the service&rsquo;s <code>ServiceDescriptor</code>.</li><li><code>callMethod</code>: Determines which method is being called based on the provided
method descriptor and calls it directly, down-casting the request message
and callback to the correct types.</li><li><code>getRequestPrototype</code> and <code>getResponsePrototype</code>: Returns the default
instance of the request or response of the correct type for the given
method.</li></ul><p>The following static method is also generated:</p><ul><li><code>static ServiceDescriptor getServiceDescriptor()</code>: Returns the type&rsquo;s
descriptor, which contains information about what methods this service has
and what their input and output types are.</li></ul><p><code>Foo</code> will also contain a nested interface <code>Foo.Interface</code>. This is a pure
interface that again contains methods corresponding to each method in your
service definition. However, this interface does not extend the <code>Service</code>
interface. This is a problem because RPC server implementations are usually
written to use abstract <code>Service</code> objects, not your particular service. To solve
this problem, if you have an object <code>impl</code> implementing <code>Foo.Interface</code>, you can
call <code>Foo.newReflectiveService(impl)</code> to construct an instance of <code>Foo</code> that
simply delegates to <code>impl</code>, and implements <code>Service</code>.</p><p>To recap, when implementing your own service, you have two options:</p><ul><li>Subclass <code>Foo</code> and implement its methods as appropriate, then hand instances
of your subclass directly to the RPC server implementation. This is usually
easiest, but some consider it less &ldquo;pure&rdquo;.</li><li>Implement <code>Foo.Interface</code> and use <code>Foo.newReflectiveService(Foo.Interface)</code>
to construct a <code>Service</code> wrapping it, then pass the wrapper to your RPC
implementation.</li></ul><h3 id=stub>Stub</h3><p>The protocol buffer compiler also generates a &ldquo;stub&rdquo; implementation of every
service interface, which is used by clients wishing to send requests to servers
implementing the service. For the <code>Foo</code> service (above), the stub implementation
<code>Foo.Stub</code> will be defined as a nested class.</p><p><code>Foo.Stub</code> is a subclass of <code>Foo</code> which also implements the following methods:</p><ul><li><code>Foo.Stub(RpcChannel channel)</code>: Constructs a new stub which sends requests
on the given channel.</li><li><code>RpcChannel getChannel()</code>: Returns this stub&rsquo;s channel, as passed to the
constructor.</li></ul><p>The stub additionally implements each of the service&rsquo;s methods as a wrapper
around the channel. Calling one of the methods simply calls
<code>channel.callMethod()</code>.</p><p>The Protocol Buffer library does not include an RPC implementation. However, it
includes all of the tools you need to hook up a generated service class to any
arbitrary RPC implementation of your choice. You need only provide
implementations of <code>RpcChannel</code> and <code>RpcController</code>.</p><h3 id=blocking-interfaces>Blocking Interfaces</h3><p>The RPC classes described above all have non-blocking semantics: when you call a
method, you provide a callback object which will be invoked once the method
completes. Often it is easier (though possibly less scalable) to write code
using blocking semantics, where the method simply doesn&rsquo;t return until it is
done. To accomodate this, the protocol buffer compiler also generates blocking
versions of your service class. <code>Foo.BlockingInterface</code> is equivalent to
<code>Foo.Interface</code> except that each method simply returns the result rather than
call a callback. So, for example, <code>bar</code> is defined as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#000>FooResponse</span> <span style=color:#000>bar</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>RpcController</span> <span style=color:#000>controller</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>FooRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                         <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>ServiceException</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><p>Analogous to non-blocking services,
<code>Foo.newReflectiveBlockingService(Foo.BlockingInterface)</code> returns a
<code>BlockingService</code> wrapping some <code>Foo.BlockingInterface</code>. Finally,
<code>Foo.BlockingStub</code> returns a stub implementation of <code>Foo.BlockingInterface</code> that
sends requests to a particular <code>BlockingRpcChannel</code>.</p><h2 id=plugins>Plugin Insertion Points</h2><p><a href=/reference/cpp/api-docs/google.protobuf.compiler.plugin.pb>Code generator plugins</a>
that want to extend the output of the Java code generator may insert code of
the following types using the given insertion point names.</p><ul><li><code>outer_class_scope</code>: Member declarations that belong in the file&rsquo;s wrapper
class.</li><li><code>class_scope:TYPENAME</code>: Member declarations that belong in a message class.
<code>TYPENAME</code> is the full proto name, e.g. <code>package.MessageType</code>.</li><li><code>builder_scope:TYPENAME</code>: Member declarations that belong in a message&rsquo;s
builder class. <code>TYPENAME</code> is the full proto name, e.g.
<code>package.MessageType</code>.</li><li><code>enum_scope:TYPENAME</code>: Member declarations that belong in an enum class.
<code>TYPENAME</code> is the full proto enum name, e.g. <code>package.EnumType</code>.</li><li><code>message_implements:TYPENAME</code>: Class implementation declarations for a
message class. <code>TYPENAME</code> is the full proto name, e.g.
<code>package.MessageType</code>.</li><li><code>builder_implements:TYPENAME</code>: Class implementation declarations for a
builder class. <code>TYPENAME</code> is the full proto name, e.g.
<code>package.MessageType</code>.</li></ul><p>Generated code cannot contain import statements, as these are prone to conflict
with type names defined within the generated code itself. Instead, when
referring to an external class, you must always use its fully-qualified name.</p><p>The logic for determining output file names in the Java code generator is fairly
complicated. You should probably look at the <code>protoc</code> source code, particularly
<code>java_headers.cc</code>, to make sure you have covered all cases.</p><p>Do not generate code which relies on private class members declared by the
standard code generator, as these implementation details may change in future
versions of Protocol Buffers.</p><h2 id=utility-classes>Utility Classes</h2><p>Protocol buffer provides
<a href=/reference/java/api-docs/com/google/protobuf/util/package-summary.html>utility classes</a>
for message comparison, JSON conversion and working with
<a href=/reference/protobuf/google.protobuf>well-known types (predefined protocol buffer messages for common use-cases).</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-1be9e7e798e12c55873d38f2de7d9e57>2 - Java API</h1></div><div class=td-content style=page-break-before:always><h1 id=pg-466dfd484aa91ce51d28c85d71d3c5e1>3 -</h1><h1 id=java-proto-names>Java Proto Names</h1><h2 id=immutable-api-message-names>Immutable API Message Names</h2><p>The names for protos generated by the immutable API (<code>java_proto_library</code> BUILD
target) are listed in the following table.</p><table><thead><tr><th style=text-align:center>java_api_version</th><th style=text-align:center>java_multiple_files</th><th>java_alt_api_package</th><th>java_package</th><th>java_outer_classname</th><th>Generated full message name</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>true</td><td>Defined</td><td>-</td><td></td><td><code>$java_alt_api_package.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>true</td><td>Not defined</td><td>Not defined</td><td></td><td><code>com.google.protos.$package.proto2api.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>true</td><td>Not defined</td><td>Defined</td><td></td><td><code>$java_package.proto2api.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Defined</td><td>-</td><td>Not defined</td><td><code>$java_alt_api_package.$derived_outer_class.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Defined</td><td>-</td><td>Defined</td><td><code>$java_alt_api_package.$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Not defined</td><td>Not defined</td><td>Not defined</td><td><code>com.google.protos.$package.proto2api.$derived_outer_class.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Not defined</td><td>Not defined</td><td>Defined</td><td><code>com.google.protos.$package.proto2api.$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Not defined</td><td>Defined</td><td>Not defined</td><td><code>$java_package.proto2api.$derived_outer_class.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Not defined</td><td>Defined</td><td>Defined</td><td><code>$java_package.proto2api.$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>-</td><td>Not defined</td><td>-</td><td><code>com.google.protos.$package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>-</td><td>Defined</td><td>-</td><td><code>$java_package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>-</td><td>Not defined</td><td>Not defined</td><td><code>com.google.protos.$package.$derived_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>-</td><td>Not defined</td><td>Defined</td><td><code>com.google.protos.$package.$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>-</td><td>Defined</td><td>Not defined</td><td><code>$java_package.$derived_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>-</td><td>Defined</td><td>Defined</td><td><code>$java_package.$java_outer_classname.$message</code></td></tr></tbody></table><p><strong>Legend</strong></p><ul><li><p>- means either setting or not setting the option will not change the
generated full message name.</p></li><li><p><code>$message</code> is the actual name of the proto message.</p></li><li><p><code>$package</code> is the name of the proto package. This is the name specified by
the <code>package</code> directive in the proto file, which is usually at the top of
the file.</p></li><li><p><code>$derived_outer_class</code> is a name generated from the proto file name.
Generally it&rsquo;s computed by removing punctuation from the file name and
converting it to CamelCase. For example, if the proto is <code>foo_bar.proto</code>,
the <code>$derived_outer_class</code> value is <code>FooBar</code>.</p><p>If the generated class name would be the same as one of the messages defined
in the proto file, <code>derived_outer_class</code> has <code>OuterClass</code> appended to it.
For example, if the proto is <code>foo_bar.proto</code> and contains a <code>FooBar</code>
message, the <code>$derived_outer_class</code> value is <code>FooBarOuterClass</code>.</p></li><li><p>All other <code>$names</code> are the values of the corresponding proto2 file options
defined in the proto file.</p></li></ul><p>The recommended set of options is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_multiple_files</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>java_outer_classname</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;{UpperCamelCaseFilename}Proto&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><h2 id=mutable-api-message-names>Mutable API Message Names</h2><p>The names for protos generated by the mutable API are outlined in the following
sections.</p><div class="alert alert-note" role=alert><h4 class=alert-heading>Note</h4>Java mutable API names will be generated only when the
<code>java_mutable_proto_library</code> target is built.</div><h3 id=generated-proto-api-version>Generated Proto API Version</h3><div class="alert alert-warning" role=alert><h4 class=alert-heading>Warning</h4>Java
proto1 is deprecated. Avoid any settings that will generate that version.</div><table><thead><tr><th>java_api_version</th><th>java_mutable_api</th><th>java_enable_dual_generate_mutable_api</th><th>API version</th></tr></thead><tbody><tr><td>-</td><td>-</td><td>true</td><td>proto1, proto2 mutable</td></tr><tr><td>1</td><td>-</td><td>false</td><td>proto1</td></tr><tr><td>2</td><td>true</td><td>false</td><td>proto2 mutable</td></tr><tr><td>2</td><td>false</td><td>false</td><td>proto1</td></tr></tbody></table><h3 id=proto2-message-names>Proto2 Message Names</h3><table><thead><tr><th style=text-align:center>java_api_version</th><th style=text-align:center>(java_multiple_files, java_multiple_files_mutable_package)</th><th>java_package</th><th>java_outer_classname</th><th>java_alt_api_package</th><th>Proto2 Mutable message name</th></tr></thead><tbody><tr><td style=text-align:center>-</td><td style=text-align:center>(true, defined)</td><td>-</td><td>-</td><td>-</td><td><code>$java_multiple_files_mutable_package.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Undefined</td><td>Undefined</td><td><code>com.google.protos.$package.proto2api.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Undefined</td><td>Defined</td><td><code>$java_alt_api_package.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Defined</td><td>Undefined</td><td><code>com.google.protos.$package.proto2api.Mutable$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Defined</td><td>Defined</td><td><code>$java_alt_api_package.Mutable$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Undefined</td><td>Undefined</td><td><code>$java_package.proto2api.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Undefined</td><td>Defined</td><td><code>$java_alt_api_package.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Defined</td><td>Undefined</td><td><code>$java_package.proto2api.Mutable$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Defined</td><td>Defined</td><td><code>$java_alt_api_package.Mutable$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Undefined</td><td>-</td><td><code>com.google.protos.$package.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>!(true, defined)</td><td>Undefined</td><td>Defined</td><td>-</td><td><code>com.google.protos.$package..Mutable$java_outer_classname.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Undefined</td><td>-</td><td><code>$java_package.Mutable$Filename.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>!(true, defined)</td><td>Defined</td><td>Defined</td><td>-</td><td><code>$java_package.Mutable$java_outer_classname.$message</code></td></tr></tbody></table><p><strong>Legend</strong></p><ul><li>- means either setting or not setting the option will not change the
generated full message name.</li><li><code>$message</code> is the actual name of the proto message.</li><li>All other <code>$names</code> are the values of the corresponding proto2 file options
defined in the proto file.</li></ul><h3 id=proto1-message-names>Proto1 Message Names</h3><div class="alert alert-warning" role=alert><h4 class=alert-heading>Warning</h4>Java
proto1 is deprecated. The following table is provided for informational purposes
only.</div><table><thead><tr><th style=text-align:center>java_api_version</th><th style=text-align:center>java_multiple_files</th><th>java_package</th><th>java_outer_classname</th><th>java_alt_api_package</th><th>Proto1 message name</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>true</td><td>Undefined</td><td>-</td><td>-</td><td><code>com.google.protos.$package.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>true</td><td>Defined</td><td>-</td><td>-</td><td><code>$java_package.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Undefined</td><td>Defined</td><td>-</td><td><code>com.google.protos.$package.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Undefined</td><td>Undefined</td><td>-</td><td><code>com.google.protos.$package.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Defined</td><td>Defined</td><td>-</td><td><code>$java_package.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>false</td><td>Defined</td><td>Undefined</td><td>-</td><td><code>$java_package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>Undefined</td><td>-</td><td>Undefined</td><td><code>com.google.protos.$package.proto1api.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>Defined</td><td>-</td><td>Undefined</td><td><code>$java_package.proto1api.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Undefined</td><td>Defined</td><td>Undefined</td><td><code>com.google.protos.$package.proto1api.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Undefined</td><td>Undefined</td><td>Undefined</td><td><code>com.google.protos.$package.proto1api.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Defined</td><td>Defined</td><td>Undefined</td><td><code>$java_package.proto1api.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Defined</td><td>Undefined</td><td>Undefined</td><td><code>$java_package.proto1api.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>Undefined</td><td>-</td><td>Defined</td><td><code>com.google.protos.$package.$java_alt_api_package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>true</td><td>Defined</td><td>-</td><td>Defined</td><td><code>$java_package.$java_alt_api_package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Undefined</td><td>Defined</td><td>Defined</td><td><code>com.google.protos.$package.$java_alt_api_package.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Undefined</td><td>Undefined</td><td>Defined</td><td><code>com.google.protos.$package.$java_alt_api_package.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Defined</td><td>Defined</td><td>Defined</td><td><code>$java_package.$java_alt_api_package.$java_outer_class.$message</code></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>false</td><td>Defined</td><td>Undefined</td><td>Defined</td><td><code>$java_package.$java_alt_api_package.$message</code></td></tr></tbody></table><p><strong>Legend</strong></p><ul><li>- means either setting or not setting the option will not change the
generated full message name.</li><li><code>$message</code> is the actual name of the proto message.</li><li>All other <code>$names</code> are the values of the corresponding proto2 file options
defined in the proto file.</li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/protocol-buffers aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=40px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#fff data-fg=#000 data-position=bottom data-padding=16px data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/protocolbuffers/protobuf aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/protobuf aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=40px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#fff data-fg=#000 data-position=bottom data-padding=16px data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Google LLC All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small>
<span class=text-white>Hosted by GitHub Pages.</span> <a href=https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement target=_blank>GitHub Privacy Statement</a></div></div></div></footer></div><script src=/js/main.min.9bf72cb065abb58e9dd4b5b0081420fe52b7f1d05088aa753cd0a5cff0f04feb.js integrity="sha256-m/cssGWrtY6d1LWwCBQg/lK38dBQiKp1PNClz/DwT+s=" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script></body></html>