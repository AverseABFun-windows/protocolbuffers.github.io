<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.108.0"><link rel=canonical type=text/html href=https://protobuf.dev/news/><link rel=alternate type=application/rss+xml href=https://protobuf.dev/news/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>News | Protocol Buffers Documentation</title><meta name=description content="Get the latest news about Protocol Buffers."><meta property="og:title" content="News"><meta property="og:description" content="Get the latest news about Protocol Buffers."><meta property="og:type" content="website"><meta property="og:url" content="https://protobuf.dev/news/"><meta property="og:site_name" content="Protocol Buffers Documentation"><meta itemprop=name content="News"><meta itemprop=description content="Get the latest news about Protocol Buffers."><meta name=twitter:card content="summary"><meta name=twitter:title content="News"><meta name=twitter:description content="Get the latest news about Protocol Buffers."><link rel=preload href=/scss/main.min.def2cdda5cfcd95d9660c969a68946395435ad5fc75402be473d9995c7e926b3.css as=style><link href=/scss/main.min.def2cdda5cfcd95d9660c969a68946395435ad5fc75402be473d9995c7e926b3.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5L8P8GRN4Y"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5L8P8GRN4Y")}</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Protocol Buffers Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/news/>Return to the regular view of this page</a>.</p></div><h1 class=title>News</h1><div class=lead>Get the latest news about Protocol Buffers.</div><ul><li>1: <a href=#pg-4b0d6dea0a9b5c93fda4eaf58f3bc5f3>Changes made on May 6, 2022</a></li><li>2: <a href=#pg-78cf0b0047da93cd410264f7acd5f267>Changes announced July 6, 2022</a></li><li>3: <a href=#pg-9d3ec33a75b1bdfdcd4858651d957450>Changes announced August 3, 2022</a></li></ul><div class=content><p>News topics provide information about past events and changes with Protocol
Buffers, and plans for upcoming changes.</p><ul><li><a href=/news/2022-08-03>August 3, 2022</a> - Platform Support
Changes and Upcoming Changes in the C++ 22.x Line</li><li><a href=/news/2022-07-06>July 6, 2022</a> - Library Breaking
Change Policy</li><li><a href=/news/2022-05-06>May 6, 2022</a> - Versioning, Python
Updates, and JavaScript Support</li></ul></div></div><div class=td-content><h1 id=pg-4b0d6dea0a9b5c93fda4eaf58f3bc5f3>1 - Changes made on May 6, 2022</h1><div class=lead>Changes made to Protocol Buffers on May 6, 2022.</div><h2 id=versioning>Versioning</h2><p>We changed our versioning scheme to enable more-nimble updates to
language-specific parts of Protocol Buffers. In the new scheme, each language
has its own major version that can be incremented independently of other
languages, as covered later in this topic with the Python release. The minor and
patch versions, however, will remain coupled. This allows us to introduce
breaking changes into some languages without requiring a bump of the major
version in languages that do not experience a breaking change.</p><p>The first instance of this new versioning scheme is the new version of the
Python API, 4.21.0, which follows the preceding version, 3.20.1. Other language
APIs will be released as 3.21.0.</p><h2 id=python-updates>Python Updates</h2><p>We made some changes in Python language support in Protocol Buffers. Version
4.21.0 is a new major version, following 3.20.1. The new version is based on the
<a href=https://github.com/protocolbuffers/upb>upb library</a>, and offers
significantly better parsing performance than previous releases, especially for
large payloads. It also includes prebuilt binary modules for Apple silicon for
increased performance without a manual build.</p><p>The new release does contain some breaking changes. Specifically:</p><ul><li>The
<a href=https://googleapis.dev/python/protobuf/3.17.0/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>UnknownFields()</code></a>
method, which relied on an implicitly created class, is replaced with the
explicitly-created <code>UnknownFieldSet</code> class.</li><li>Some non-core characteristics may have changed, such as the specific format
of certain strings or error messages. These are not considered breaking
changes, but may still impact your existing code base.</li><li>Applications that rely on sharing messages between Python and C++ break in
the new version. Most developers won&rsquo;t be affected by this, but users of
<a href=https://github.com/google/nucleus>Nucleus</a> and possibly other
libraries may be. As a workaround, you can
<a href=/reference/python/python-generated#sharing-messages>set an environment variable</a>
that forces the library to preserve compatibility.</li><li>Python upb requires generated code that has been generated from protoc
3.19.0 or newer.</li></ul><h2 id=javascript>JavaScript Support</h2><p>We moved some things around for Protocol Buffer support of JavaScript to allow
JavaScript to evolve and release independently of the main repo. Specifically,
we decoupled the language support from the
<a href=https://github.com/protocolbuffers/protobuf>main project</a> and moved
it into its
<a href=https://github.com/protocolbuffers/protobuf-javascript>own repository</a>.</p><p>If you have created any pull requests related to JavaScript support in Protocol
Buffers that you&rsquo;d still like to merge, feel free to replicate those against the
JavaScript repository. We will transfer GitHub issues automatically.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-78cf0b0047da93cd410264f7acd5f267>2 - Changes announced July 6, 2022</h1><div class=lead>Changes made to Protocol Buffers on July 6, 2022.</div><h2 id=library-breaking-change-policy>Library Breaking Change Policy</h2><p>Google released its
<a href=https://opensource.google/documentation/policies/library-breaking-change>OSS Library Breaking Change Policy</a>,
which some Google-sponsored open source projects have opted into. Protocol
buffers has adopted this policy.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9d3ec33a75b1bdfdcd4858651d957450>3 - Changes announced August 3, 2022</h1><div class=lead>Changes made to Protocol Buffers on August 3, 2022.</div><p>This topic covers two areas: general platform support changes, and C++-specific
changes that are being considered for the 22.x release line.</p><h2 id=platform-changes>Platform Support Changes</h2><p>We&rsquo;ve added guidance about the platforms that we support in
<a href=/programming-guides/proto#platforms>this section</a> of
the documentation. The section currently covers C++ and PHP, but may be expanded
with information about other platforms in the future.</p><h2 id=cpp-support-matrix>Official C++ Support Matrix</h2><p>With the policy, mentioned earlier in this announcement, of using Google&rsquo;s
official
<a href=/programming-guides/proto#platforms>foundational C++ support policy</a>,
our
<a href=https://github.com/google/oss-policies-info/blob/8067c719150dfec6a836dd82230c5eb0ba11acd7/foundational-cxx-support-matrix.md>C++ compiler and toolchain support matrix will change</a>.</p><h2 id=cpp-changes>C++ Changes</h2><p>Following the announcement of our
<a href=/news/2022-07-06>new major version and breaking changes policy</a>,
we are planning a major version bump for C++. We plan to make some changes to
the assets that we release starting with our 22.x release line.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 22.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=c20-support>Adding C++20 Support</h3><p>Because of the addition of new keywords to the C++ language, adding support for
C++20 is a breaking change for users even if they do not currently use C++20.</p><p>Mitigations for this to conditionally change names only in certain compiler
modes would break projects that support multiple language standards.</p><h3 id=c11-support>Dropping C++11 Support</h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#4_c_language_standard>C++ support policy</a>,
we plan to drop C++11 support. This is a breaking change.</p><h3 id=autotools>Dropping Autotools Support</h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#3_build_systems>build systems support policy</a>,
we plan to drop autotools support. This is a breaking change. After autotools
support is dropped, protobuf will support only CMake and Bazel.</p><h3 id=php-74>Dropping Support for PHP &lt;7.4</h3><p>Per our
<a href=https://cloud.google.com/php/getting-started/supported-php-versions>PHP support policy</a>,
we plan to drop support for EOL versions of PHP. This is not considered a
breaking change since these versions are already EOL in the broader ecosystem.</p><h3 id=abseil-dep>Adding an Abseil Dependency</h3><p>In order to reduce the Google vs. OSS differences between protobuf and to
simplify our own project, we plan to take a formal dependency on Abseil. In
time, we plan to start using Abseil types in our public APIs, but simply adding
the dependency is a breaking change.</p><h3 id=lang-specific-distros>Dropping Language-Specific Source Distributions</h3><p>To reduce dependence on autotools and minimize the number of artifacts we
release, we plan to stop publishing language-specific source distributions on
our
<a href=https://github.com/protocolbuffers/protobuf/releases>GitHub release page</a>.
Instead, we advise users to download the
<a href=https://github.com/protocolbuffers/protobuf/releases>source code distribution</a>
automatically generated by GitHub on the release page.</p><h3 id=idiomatic>Changing Maven Release Candidate Artifact Names to Be More Idiomatic</h3><p>In 22.0 we plan to rename Maven artifacts to use “RC” instead of “rc-” as the
release candidate prefix.</p><h3 id=gems>Releasing Only Ruby Source Gems</h3><p>We currently release multiple Ruby gems that are compiled for different
architectures. Starting in 22.0, we plan to release only a single ruby source
gem that contains source code and will be compiled on the host system.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/protocol-buffers aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=40px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#fff data-fg=#000 data-position=bottom data-padding=16px data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/protocolbuffers/protobuf aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/protobuf aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=40px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#fff data-fg=#000 data-position=bottom data-padding=16px data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Google LLC All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small>
<span class=text-white>Hosted by GitHub Pages.</span> <a href=https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement target=_blank>GitHub Privacy Statement</a></div></div></div></footer></div><script src=/js/main.min.9bf72cb065abb58e9dd4b5b0081420fe52b7f1d05088aa753cd0a5cff0f04feb.js integrity="sha256-m/cssGWrtY6d1LWwCBQg/lK38dBQiKp1PNClz/DwT+s=" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script></body></html>